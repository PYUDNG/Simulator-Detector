<!DOCTYPE html>
<script>!function(){let e=window.EventTarget.prototype.addEventListener,t=window.EventTarget.prototype.removeEventListener,r=new Map,o={CustomEvent,Error,Element,toString:Object.prototype.toString,getPrototypeOf:Object.getPrototypeOf,defineProperty:Object.defineProperty,defineProperties:Object.defineProperties,reduce:Array.prototype.reduce,forEach:Array.prototype.forEach,from:Array.from,push:Array.prototype.push,querySelectorAll:Element.prototype.querySelectorAll,add:Set.prototype.add,preventDefault:Event.prototype.preventDefault,stopImmediatePropagation:Event.prototype.stopImmediatePropagation,set:Map.prototype.set,has:Map.prototype.has,get:Map.prototype.get};Object.defineProperties(Function.prototype,{call:{value:Function.prototype.call,writable:!1,configurable:!1,enumerable:!0},apply:{value:Function.prototype.apply,writable:!1,configurable:!1,enumerable:!0}});let a=new EventTarget;o.defineProperty(window,"simulatorDetector",{value:a,writable:!1,configurable:!1,enumerable:!0}),a.bypassed=!1;try{Object.defineProperty(window.EventTarget.prototype,"addEventListener",{get:()=>function(t,n,p){let c=[...arguments];function s(e){if(!e.isTrusted)return a.dispatchEvent(new o.CustomEvent("detect",{detail:{target:this,event:e,stack:new o.Error().stack}})),o.preventDefault.call(e),o.stopImmediatePropagation.call(e),!1;n.apply(this,arguments)}i(this)&&(c[1]=s,o.set.call(r,n,s),l(t)),e.apply(this,c)},configurable:!1,enumerable:!0})}catch(n){a.bypassed=!0,a.dispatchEvent(new o.CustomEvent("bypass",{detail:{error:n,element:null}}))}function l(t){let r=[];function n(e){e.isTrusted||(a.dispatchEvent(new o.CustomEvent("detect",{detail:{target:e.target,event:e,stack:new o.Error().stack}})),o.preventDefault.call(e),o.stopImmediatePropagation.call(e))}(l=function(t){if(r.includes(t))return!1;e.call(document,t,n,{capture:!0}),o.push.call(r,t)})(t)}function p(e){try{o.defineProperties(e,{addEventListener:{value:window.EventTarget.prototype.addEventListener,writable:!1,configurable:!1,enumerable:!1},removeEventListener:{value:window.EventTarget.prototype.removeEventListener,writable:!1,configurable:!1,enumerable:!1}})}catch(t){a.bypassed=!0,a.dispatchEvent(new o.CustomEvent("bypass",{detail:{error:t,element:e}}))}}function i(e){if(e instanceof o.Element)return!0;for(;;){if(!e)return!1;let t=o.toString.call(e);if("[object Element]"===t)return!0;e=o.getPrototypeOf(e)}}window.EventTarget.prototype.removeEventListener=function(e,a,n){let l=[...arguments];i(this)&&a&&o.has.call(r,a)&&(l[1]=o.get.call(r,a)),t.apply(this,l)},function e(){for(let t of document.querySelectorAll("*"))p(t);let r=new MutationObserver(function e(t,r){let a=o.reduce.call(t,(e,t)=>(e.push.apply(e,t.addedNodes),e),[]),n=o.reduce.call(a,(e,t)=>(i(t)&&(o.add.call(e,t),o.forEach.call(o.from.call(Array,o.querySelectorAll.call(t,"*")),t=>o.add.call(e,t))),e),new Set);for(let l of n)p(l)});return r.observe(document,{childList:!0,subtree:!0}),r}(),[EventTarget.prototype,a].forEach(e=>Object.freeze(e))}();</script>
<html>
<head>
	<meta charset="utf-8">
	<title>Simulator Detector Demo</title>
	<style>body {text-align: center; font-size: 5vmin;}</style>
	<script type="text/javascript" src="app.js"></script>
</head>
<body>
	<div id='question'></div>
	<input type="text" id="answer">
	<button id='submit'>Submit</button>
</body>
</html>